import { ChatGPTAPI } from 'chatgpt'
import * as dotenv from 'dotenv'; dotenv.config();

const api = new ChatGPTAPI({
    apiKey: process.env.OPENAPI
})

const postNotEvent = `–†–æ–∑–∫–ª–∞–¥ –∑–∞–Ω—è—Ç—å –Ω–∞ 14.01 –≤ –®–∫–æ–ª—ñ —Ç–∞–Ω—Ü—ñ–≤ ‚ÄúSalsaBO‚Äù
üìçSALSABO –í –¶–ï–ù–¢–†–Ü

üìç–í–ï–õ–ò–ö–ê –ñ–ò–¢–û–ú–ò–†–°–¨–ö–ê, 24–ë
‚ùÑÔ∏è 18:30
–ó–ê–õ 2: SALSA+BACHATA BEGINNERS NEW
–†—ñ–≤–µ–Ω—å: –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤, –∑ –Ω—É–ª—è
–í–∏–∫–ª–∞–¥–∞—á: –ö–∞—Ç—è @kate_pustovit

‚ùÑÔ∏è 19:00
–ó–ê–õ 1: KIZOMBA INTERMEDIATE
–†—ñ–≤–µ–Ω—å: –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –≤–∂–µ —Ç–∞–Ω—Ü—é—î
–í–∏–∫–ª–∞–¥–∞—á—ñ: –ë–û–≥–¥–∞–Ω —ñ –¢–∞–Ω—è

‚ùÑÔ∏è 20:00
–ó–ê–õ 2: SALSA + BACHATA INTERMEDIATE
–†—ñ–≤–µ–Ω—å: –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –≤–∂–µ —Ç–∞–Ω—Ü—é—î
–í–∏–∫–ª–∞–¥–∞—á—ñ: –ë–û —ñ –¢–∞–Ω—è

üìç–û–õ–Ü–ú–ü–Ü–ô–°–¨–ö–ê (–ê–Ω—Ç–æ–Ω–æ–≤–∏—á–∞, 38–∞)

‚ùÑÔ∏è 19:00
–ó–ê–õ 2: URBAN KIZ INTERMEDIATE
–†—ñ–≤–µ–Ω—å: –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –≤–∂–µ —Ç–∞–Ω—Ü—é—î
–í—á–∏—Ç–µ–ª—ñ: –Ü–æ–∞–Ω–Ω —Ç–∞ –ù–∞—Å—Ç—è @_angel_a_s_ @_ioann_el_hosri_

‚ùÑÔ∏è 19:00
–ó–ê–õ 2: URBAN KIZ BEGINNERS
–†—ñ–≤–µ–Ω—å: –ø–æ—á–∞—Ç–∫–æ–≤–∏–π
–í—á–∏—Ç–µ–ª—å: –ê—Ä—Ç–µ–º

‚ùÑÔ∏è 20:00 –°–¢–ê–†–¢ –ö–£–†–°–ê ü•ÅURBAN KIZ –°–¢–ê–ô–õ–ò–ù–ì –í –ü–ê–†–ï
–†—ñ–≤–µ–Ω—å: –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –≤–∂–µ —Ç–∞–Ω—Ü—é—î
–í—á–∏—Ç–µ–ª—ñ: –Ü–æ–∞–Ω–Ω —Ç–∞ –ù–∞—Å—Ç—è @_angel_a_s_ @_ioann_el_hosri_
_______________________________________________
–ü–æ—á–Ω–∏ —Ç–∞–Ω—Ü—é–≤–∞—Ç–∏ –≤–∂–µ —Å—å–æ–≥–æ–¥–Ω—ñ –∑ SALSABO!
–ü–û–°–¢–Ü–ô–ù–ò–ô –ù–ê–ë–Ü–† –í –ì–†–£–ü–ò –î–õ–Ø –ü–û–ß–ê–¢–ö–Ü–í–¶–Ü–í! –í—Å—ñ, —Ö—Ç–æ —Ö–æ—á–µ –Ω–∞–≤—á–∏—Ç–∏—Å—è —Ç–∞–Ω—Ü—é–≤–∞—Ç–∏ Salsa, Bachata, Kizomba, Reggaeton –ø–∏—à—ñ—Ç—å –≤ direct!
‚úîÔ∏è–î–ª—è –∑–∞–ø–∏—Å—É –≤ –≥—Ä—É–ø–∏:
üì≤TEL. 097-410-06-51;
www.salsabo.com`
const postIsEvent = `–£–ª—é–±–ª–µ–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è, —á—É–¥–æ–≤–µ –º—ñ—Å—Ü–µ –∑—ñ —Å–≤—ñ—Ç–ª–æ–º, –∫–æ–Ω–¥–∏—Ü—ñ–æ–Ω–µ—Ä–∞–º–∏ —Ç–∞ –∑—ñ–≥—Ä—ñ–≤–∞—é—á–∏–º–∏ –Ω–∞–ø–æ—è–º–∏ –Ω–∞ –±–∞—Ä—ñ, –ø—Ä–µ–∫—Ä–∞—Å–Ω—ñ –¥—ñ–¥–∂–µ—ó, –±–∞–≥–∞—Ç–æ –ø–æ—Å–º—ñ—à–æ–∫ —Ç–∞ —Ç–∞–Ω—Ü—ñ–≤ - —ñ —ñ–¥–µ–∞–ª—å–Ω–∏–π –Ω–µ–¥—ñ–ª—å–Ω–∏–π –≤–µ—á—ñ—Ä –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ üòç

ü™© 3 –≤–µ–ª–∏–∫–∏—Ö –∑–∞–ª–∏ –Ω–∞ –∫–æ–∂–µ–Ω —Å—Ç–∏–ª—å:
* –ë–ê–ß–ê–¢–ê
üéß –∫–∞—á–∞—î Dj Shah
* –ó–£–ö
üéß –∑–∞–ø–∞–ª—é—î Dj Unizavr
* –°–ê–õ–¨–°–ê
üéß –≥—Ä–∞—î Dj Sanchez

üìÜ –ö–æ–ª–∏: 12.01 (–Ω–µ–¥—ñ–ª—è) 19:00-22:00
üìç –î–µ: Nivki Hall, –ø—Ä–æ—Å–ø–µ–∫—Ç –ë–µ—Ä–µ—Å—Ç–µ–π—Å—å–∫–∏–π, 84
üí∞–í—Ö—ñ–¥: 250–≥—Ä–Ω`

if (import.meta.url === `file://${process.argv[1]}`) {
    console.log(await calculateTextAnAnnouncementPossibility(postIsEvent))
}

export default async function calculateTextAnAnnouncementPossibility(text){
    const prompt = '–ø–µ—Ä–µ–≥–ª—è–Ω—å –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é —ñ —Ä–æ–∑—Ä–∞—Ö—É–π —á–∏—Å–ª–æ–≤—É –≤—ñ—Ä–æ–≥—ñ–¥–Ω—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ —Ü—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è —î –∞–Ω–æ–Ω—Å–æ–º –æ—Ñ–ª–∞–π–Ω –ø–æ–¥—ñ—ó. –≤–∫–∞–∂–∏ –≤—ñ—Ä–æ–≥—ñ–¥–Ω—ñ—Å—Ç—å —è–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –≤—ñ—Ä–æ–≥—ñ–¥–Ω—ñ—Å—Ç—å –º–∞—î –±—É—Ç–∏ –≤–∏—Ä–∞–∂–µ–Ω–∞ –≤—ñ–¥ 0 –¥–æ 100. –≤–∫–ª—é—á–∏ —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤–∏–∫–ª—é—á–Ω–æ —Ü–∏—Ñ—Ä–∏, –Ω—ñ—á–æ–≥–æ –∑–∞–π–≤–æ–≥–æ. –Ω–µ —Ç—Ä–µ–±–∞ –ø–æ—è—Å–Ω–µ–Ω—å, –ª–∏—à–µ —á–∏—Å–ª–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è :'+text
    const res = await api.sendMessage(prompt)
    return Math.round(+res.text)
}

async function example() {
    const res = await api.sendMessage('—è–∫–∞ –º–æ–≤–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–∏ —Ä–æ–∑—Ä–æ–±—Ü—ñ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ñ android? ')
    console.log(res.text)
}